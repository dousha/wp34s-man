% wp34s.sty
% usage: \usepackage{wp34s}
% This package provide WP 34S symbols and formats
% This package assumes that WP 34S fonts are installed
% Author: dousha

\usepackage{fontspec}
\usepackage[usenames,dvipsnames,svgnames,table]{xcolor}
\usepackage{fancybox}

\providecommand{\wpx}[0]{WP~34S}

\providecommand{\dotmat}[1]{{\setmainfont{WP 34S Raster Font Regular} #1}}
\providecommand{\dotmatsmall}[1]{{\setmainfont{WP 34S Raster Font Small} #1}}
\providecommand{\dotmenu}[1]{{\setmainfont{WP 34S Solid Font Regular} #1}}
\providecommand{\dotmenusmall}[1]{{\setmainfont{WP 34S Solid Font Small} #1}}
\providecommand{\seg}[1]{{\setmainfont{WP34S Segment Font} #1}}
\providecommand{\segsmall}[1]{{\tiny{\seg{#1}}}}

\providecommand{\xbar}[0]{\char"E001}
\providecommand{\ybar}[0]{\char"E002}
\providecommand{\sqrt}[0]{\char"E003}
\providecommand{\intg}[0]{\char"E004}
\providecommand{\degree}[0]{\char"E005}
\providecommand{\pulsminus}[0]{\char"E008}
\providecommand{\lte}[0]{\char"E009}
\providecommand{\gte}[0]{\char"E00A}
\providecommand{\noteq}[0]{\char"E00B}
\providecommand{\rarrow}[0]{\char"E00D}
\providecommand{\larrow}[0]{\char"E00E}
\providecommand{\darrow}[0]{\char"E00F}
\providecommand{\uarrow}[0]{\char"E010}
\providecommand{\shiftF}[0]{\char"E011}
\providecommand{\shiftG}[0]{\char"E012}
\providecommand{\shiftH}[0]{\char"E013}
\providecommand{\shiftC}[0]{\char"E014}
\providecommand{\exchange}[0]{\char"E017}
\providecommand{\mul}[0]{\char"E01C}
\providecommand{\approx}[0]{\char"E01D}
\providecommand{\superstar}[0]{\char"E090}
\providecommand{\printer}[0]{\char"E092}

\providecommand{\segdeg}[0]{\char"0040}
\providecommand{\segbarioo}[0]{\char"00A1}
\providecommand{\segbaroio}[0]{\char"00A2}
\providecommand{\segbariio}[0]{\char"00A3}
\providecommand{\segbarooi}[0]{\char"00A4}
\providecommand{\segbarioi}[0]{\char"00A5}
\providecommand{\segbaroii}[0]{\char"00A6}
\providecommand{\segbariii}[0]{\char"00A7}
\providecommand{\segbarll}[0]{\char"00A8}
\providecommand{\segbarooo}[0]{\char"00F0}
\providecommand{\segbarfull}[0]{\char"00FF}

\providecommand{\indshift}[0]{\char"00E0}
\providecommand{\indinput}[0]{\char"00E1}
\providecommand{\indequ}[0]{\char"00E2}
\providecommand{\indbatt}[0]{\char"00E3}
\providecommand{\indbattery}[0]{\char"00E3}
\providecommand{\indbeg}[0]{\char"00E4}
\providecommand{\indbegin}[0]{\char"00E4}
\providecommand{\indsto}[0]{\char"00E5}
\providecommand{\indstore}[0]{\char"00E5}
\providecommand{\indrcl}[0]{\char"00E6}
\providecommand{\indrecall}[0]{\char"00E6}
\providecommand{\indrad}[0]{\char"00E7}
\providecommand{\indradius}[0]{\char"00E7}
\providecommand{\inddeg}[0]{\char"00E8}
\providecommand{\inddegree}[0]{\char"00E8}
\providecommand{\indthreesixty}[0]{\char"00E8}
\providecommand{\indrpn}[0]{\char"00E9}

\providecommand{\calckey}[1]{\fcolorbox{black}{white}{\color{black}{#1}}}
\providecommand{\keyF}[0]{\colorbox{orange}{\color{white}f}}
\providecommand{\keyG}[0]{\colorbox{blue}{\color{white}g}}
\providecommand{\keyH}[0]{\colorbox{green}{\color{white}h}}
\providecommand{\calckeyF}[1]{\fcolorbox{orange}{white}{\color{orange}{#1}}}
\providecommand{\calckeyG}[1]{\fcolorbox{blue}{white}{\color{blue}{#1}}}
\providecommand{\calckeyH}[1]{\fcolorbox{green}{white}{\color{green}{#1}}}
\providecommand{\reg}[1]{\uppercase{\bold{#1}}}
\providecommand{\var}[1]{\lowercase{\bold{#1}}}
\providecommand{\mono}[1]{\texttt{#1}}

\providecommand{\calcscr}[4]{%
	\par
	\begin{center}
	\fcolorbox{white}{YellowGreen}{%
		\parbox{9em}{%
			\makebox[9em][l]{\dotmat{#1}}
			\par
			\makebox[9em][#2]{%
				\seg{#3}
				\raisebox{0.7ex}{\segsmall{#4}}}
		}
	}
	\end{center}
	\par
}
